<!DOCTYPE html>
<html>
<head>
    <title>Task Management</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>

<div class="container">
    <div class="navbar">
        <a href="index.html" class="nav-link">Employees</a>
        <a href="tasks.html" class="nav-link active">Tasks</a>
    </div>

    <h1 class="page-title">Tasks</h1>

    <table id="taskTable">
        <thead>
            <tr>
                <th>ID</th>
                <th>Employee ID</th>
                <th>Title</th>
                <th>Status</th>
                <th>Due Date</th>
            </tr>
        </thead>
        <tbody></tbody>
    </table>
</div>

<script>
const API = "http://localhost:3000";

async function loadTasks() {
    const res = await fetch(API + "/tasks");
    const data = await res.json();

    let rows = "";
    data.forEach(task => {
        rows += `
            <tr>
                <td>${task.id}</td>
                <td>${task.employee_id}</td>
                <td>${task.title}</td>
                <td>${task.status}</td>
                <td>${task.due_date}</td>
            </tr>
        `;
    });

    document.querySelector("#taskTable tbody").innerHTML = rows;
}

loadTasks();
</script>
</body>
</html>
